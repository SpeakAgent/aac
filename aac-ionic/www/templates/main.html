<ion-header-bar class="bar-dark">
  <!--<i class="icon ion-unlocked"></i>-->
  <div class="buttonsdiv">
    <!-- <i class="icon ion-unlocked"></i> -->

    <a href="#/settings" class="button button-outline button-small" id="btn-styling">
      <i class="icon ion-gear-b"></i> <span style="position:relative;top:3px;">Settings</span>
    </a>

    <!-- <a href="#/board_factory" class="button button-outline button-small" id="btn-styling">
    <i class="icon ion-grid"></i>
    Board Factory
    <br>
    <p class="show-hide-label">*Requires Wifi</p>
  </a>-->

  <button class="button button-outline button-calm button-small" id="btn-styling" ng-click="activeHide()" ng-class="{'active-hide-tile': !selectedBtn2}">
    <i class="icon ion-eye-disabled" ng-show="selectedBtn2 == true"></i>
    <i class="icon ion-eye-disabled" ng-show="selectedBtn2 == false" style="color:white;margin:0 0 0 -18px"></i>

    <span class="hide-label" ng-show="selectedBtn2 == true" style="position:relative;top:3px;">Hide Tiles</span>

    <span class="hide-label2" ng-show="selectedBtn2 == false">Hide Tiles</span>

    <div class="toggle-content" style="float:right">
      <label class="toggle toggle-dark-green toggle-small" ng-if="hide">
        <input type="checkbox" ng-change="enableItems();" ng-model="toggleTiles">
        <div class="track" id="track-color">
          <div class="handle" id="handle-color"></div>
        </div>
      </label>
      <p class="toggle-note" ng-if="hide">Show All Tiles</p>
    </div>
  </button>

  <button class="done-button" ng-click="hideDone()" ng-if="hide"><p><i class="icon ion-checkmark-round"></i><a href="#/home">DONE</a></p>
  </button>
</div>

</ion-header-bar>

<ion-view view-title="AAC" class="pane">
  <ion-content class= "appBody" id="bodyBack" scroll="false">
    <div class="row" id="regularRow">
      <div class="col col-10" id="regularRowBod">

        <div ng-click="sayPhrase()" ng-show="!activeChat">
          <img src="img/AAC_assets/avatar_default.png"/>
          <img src="img/AAC_assets/play.png" alt="Play" class="play" ng-show="play">
          <img src="img/AAC_assets/replay.png" alt="Play" class="replay" ng-show="replay">
        </div>

        <div ng-click="callBuddy()" ng-show="activeChat">
          <img src="img/AAC_assets/avatar_default.png"/>
          <img src="img/AAC_assets/play.png" alt="Play" class="play" ng-show="play">
          <img src="img/AAC_assets/replay.png" alt="Play" class="replay" ng-show="replay">
        </div>

        <div class="regulars" ng-repeat="phrase in quickPhrases" ng-click="sayQuickPhrase(phrase)" ng-style="isQuickPhrasePressed(phrase) && {'background-color': '#FFE98E', 'border': '2px solid #F8D338'}">
          {{ phrase }}
        </div>

        <div ng-show="selectedBtn2">

          <div class="regulars" ng-class="{'hide-tile': quickbar.lexeme.hidden}">
            <div ng-show="!quickbar.lexeme.hidden" ng-click="chosenTile(quickbar.lexeme); sayWord();">
              {{ quickbar.lexeme.lexeme | limitTo: titleLimit }}
              <br />
              <img  ng-src="{{quickbar.lexeme.symbol.image}}" ng-if="quickbar.lexeme.symbol.image" style="width:40px;height:40px">
            </div>
          </div>

          <div class="regulars" ng-class="{'hide-tile': quickbar.lexeme2.hidden}">
            <div ng-show="!quickbar.lexeme2.hidden" ng-click="chosenTile(quickbar.lexeme2); sayWord();">
              {{ quickbar.lexeme2.lexeme | limitTo: titleLimit }}
              <br />
              <img ng-src="{{quickbar.lexeme2.symbol.image}}" ng-if="quickbar.lexeme2.symbol.image" style="width:40px;height:40px">
            </div>
          </div>

          <div class="regulars" ng-class="{'hide-tile': quickbar.lexeme3.hidden}">
            <div ng-show="!quickbar.lexeme3.hidden" ng-click="chosenTile(quickbar.lexeme3); sayWord();">
              {{ quickbar.lexeme3.lexeme | limitTo: titleLimit }}
              <br />
              <img ng-src = "{{quickbar.lexeme3.symbol.image}}" ng-if="quickbar.lexeme3.symbol.image" style="width:40px;height:40px">
            </div>
          </div>

          <div class="regulars" ng-class="{'hide-tile': quickbar.lexeme4.hidden}">
            <div ng-show="!quickbar.lexeme4.hidden" ng-click="chosenTile(quickbar.lexeme4); sayWord();">
              {{ quickbar.lexeme4.lexeme | limitTo: titleLimit }}
              <img ng-src="{{quickbar.lexeme4.symbol.image}}" ng-if="quickbar.lexeme4.symbol.image" style="width:40px;height:40px">
            </div>
          </div>
        </div>

        <div ng-show="!selectedBtn2">

          <div class="regulars" ng-click="hideRegular(quickbar.lexeme.pk);" ng-class="{'item-dark': quickbar.lexeme.hidden}">
            <span class="fa fa-eye-slash item-eye" aria-hidden="true" ng-class="{'eye-red': !quickbar.lexeme.hidden}" ng-if="!quickbar.lexeme.hidden"></span>
            <span class="fa fa-eye item-eye" aria-hidden="true" ng-class="{'eye-green': quickbar.lexeme.hidden}" ng-if="quickbar.lexeme.hidden"></span>
            {{ quickbar.lexeme.lexeme | limitTo: titleLimit }}
            <br />
            <img ng-src="{{quickbar.lexeme.symbol.image}}" style="width:40px;height:40px">
          </div>

          <div class="regulars"
          ng-click="hideRegular(quickbar.lexeme2.pk);" ng-class="{'item-dark': quickbar.lexeme2.hidden}">
            <span class="fa fa-eye-slash item-eye" aria-hidden="true" ng-class="{'eye-red': !quickbar.lexeme2.hidden}" ng-if="!quickbar.lexeme2.hidden"></span>
            <span class="fa fa-eye item-eye" aria-hidden="true" ng-class="{'eye-green': quickbar.lexeme2.hidden}" ng-if="quickbar.lexeme2.hidden"></span>
          {{ quickbar.lexeme2.lexeme | limitTo: titleLimit }}
          <br />
          <img ng-src="{{quickbar.lexeme2.symbol.image}}" ng-if="quickbar.lexeme2.symbol.image" style="width:40px;height:40px">
        </div>

        <div class="regulars" ng-click="hideRegular(quickbar.lexeme3.pk);" ng-class="{'item-dark': quickbar.lexeme3.hidden}">
          <span class="fa fa-eye-slash item-eye" aria-hidden="true" ng-class="{'eye-red': !quickbar.lexeme3.hidden}" ng-if="!quickbar.lexeme3.hidden"></span>
          <span class="fa fa-eye item-eye" aria-hidden="true" ng-class="{'eye-green': quickbar.lexeme3.hidden}" ng-if="quickbar.lexeme3.hidden"></span>
          {{ quickbar.lexeme3.lexeme | limitTo: titleLimit }}
          <br />
          <img ng-src = "{{quickbar.lexeme3.symbol.image}}" ng-if="quickbar.lexeme3.symbol.image" style="width:40px;height:40px">
        </div>

        <div class="regulars"
        ng-click="hideRegular(quickbar.lexeme4.pk);" ng-class="{'item-dark': quickbar.lexeme4.hidden}">
          <span class="fa fa-eye-slash item-eye" aria-hidden="true" ng-class="{'eye-red': !quickbar.lexeme4.hidden}" ng-if="!quickbar.lexeme4.hidden"></span>
          <span class="fa fa-eye item-eye" aria-hidden="true" ng-class="{'eye-green': quickbar.lexeme4.hidden}" ng-if="quickbar.lexeme4.hidden"></span>
        {{ quickbar.lexeme4.lexeme | limitTo: titleLimit }}
        <br />
        <img ng-src="{{quickbar.lexeme4.symbol.image}}" ng-if="quickbar.lexeme4.symbol.image" style="width:40px;height:40px">
      </div>
    </div>

  </div>

  <div class="col col-90" id="full-body">
    <div class="word-builder">
      <img src="img/AAC_assets/left-caret.png" style="position:absolute;float:left;top:45px;left:92px;"/>
      <div class="word-builder-input" style="margin-left:-15px">
        <div class="tile" ng-repeat="symbol in selectedTiles" ng-click="clickTile(board.symbols[col+row]);">
          <p ng-bind="symbol.label? (symbol.label | charLimit: titleLimit) : (symbol.word | charLimit: titleLimit)" class="tile-words"></p>
          <img src = "{{symbol.symbol.image}}" ng-if="symbol.symbol.image" style="width:40px;height:40px">
        </div>

        <img ng-src="{{ imageUrl }}" id="home-section" ng-click="deleteLastTile()" on-tap="onTap()"/>
        <img ng-src="img/chat_buddies/{{selectedBuddy.think}}" style="float:right;margin-top:-17px;margin-right:-33%" ng-show="activeChat && !callEvent"/>
        <img ng-src="img/chat_buddies/{{selectedBuddy.talk}}" style="float:right;margin-top:-17px;margin-right:-24%" ng-show="activeChat && callEvent"/>
      </div>
    </div>

    <div class="col col-60" id="tile-section">
      <div class="tile-section-border">
        <span ng-repeat="row in rows">

          <div class="tile" ng-repeat="col in columns" ng-click="clickTile(board.symbols[col+row]);" ng-class="{lightYellow: board.symbols[col+row].word_class.indexOf('pronoun') > -1, 'hide-tile': board.symbols[col+row].hidden};" ng-if="selectedBtn2">
            <span ng-show="filled_tiles.indexOf(col+row)!=-1 && !board.symbols[col+row].hidden" ng-click="clickTile(board.symbols[col+row]); sayWord();">
              <p ng-bind="board.symbols[col+row].label? (board.symbols[col+row].label | charLimit: titleLimit) : (board.symbols[col+row].word | charLimit: titleLimit)"
                 class="tile-words"></p>
              <img ng-if="board.symbols[col+row].symbol.image" ng-src="{{board.symbols[col+row].symbol.image}}" style="width:40px;height:40px">
            </span>
          </div>

          <div class="tile" ng-class="{'item-dark': board.symbols[col+row].hidden}" ng-repeat="col in columns" ng-click="hideItem(col, row);" ng-if="!selectedBtn2">
            <span ng-show="filled_tiles.symbols.indexOf(col+row)!=-1">
              <span class="fa fa-eye-slash item-eye" aria-hidden="true" ng-class="{'eye-red': !board.symbols[col+row].hidden}" ng-show="!selectedBtn2" ng-if="!board.symbols[col+row].hidden"></span>
              <span class="fa fa-eye item-eye" aria-hidden="true" ng-class="{'eye-green': board.symbols[col+row].hidden}" ng-if="board.symbols[col+row].hidden"></span>

              <p class="tile-words">{{board.symbols[col+row].word | limitTo: titleLimit}}</p>
              <img ng-if="board.symbols[col+row].symbol.image" ng-src="{{board.symbols[col+row].symbol.image}}" style="width:40px;height:40px">
            </span>
          </div>

        </span>
      </div>
    </div>

    <div class="col col-40" id="board-section">
      <div class="boards" ng-if="selectedBtn2" ng-repeat="userBoard in userBoards | sliceArr:start:end" ng-class="{'activated-board': selectedBoardIndex == userBoard.board.pk, 'hide-tile': userBoard.board.hidden}"
           ng-click="chosenBoard($index);">
        <div ng-click="chosenBoard($index); sayWord()" ng-if="!userBoard.board.hidden">
          <p class="tile-words" ng-model="titleLimit">{{userBoard.board.title | charLimit: titleLimit}}</p>
          <img ng-if="userBoard.board.image" ng-src="{{userBoard.board.image}}" alt="{{userBoard.board.title}}" \>
        </div>
      </div>

      <div class="boards" ng-repeat="userBoard in userBoards | sliceArr:start:end" ng-click="hideUserBoard(userBoard.board.pk);" ng-class="{'item-dark': userBoard.board.hidden}" ng-if="!selectedBtn2">
        <span class="fa fa-eye-slash item-eye" aria-hidden="true" ng-class="{'eye-red': !userBoard.board.hidden}" ng-if="!userBoard.board.hidden"></span>
        <span class="fa fa-eye item-eye" aria-hidden="true" ng-class="{'eye-green': userBoard.board.hidden}" ng-if="userBoard.board.hidden"></span>

        <p class="tile-words" ng-model="titleLimit">{{userBoard.board.title | charLimit: titleLimit}}</p>
        <img ng-if="userBoard.board.image" ng-src="{{userBoard.board.image}}" alt="{{userBoard.board.title}}" \>
      </div>
    </div>
  </div>
</div>

      <!-- Bottom function buttons -->
      <div class="row" id="btn-section">
        <div class="col col-10" id="home-button-section">
          <div class="button-circle no-mrg text-center" ng-class="{ 'home-activated': homeBoard.board.pk == selectedBoardIndex }" ng-click="homeButton()">
            <img src="img/new_dev_assets/home.png" />
          </div>
        </div>

        <div class="col col-60">
          <div class="button-circle pull-left text-center" on-double-tap="handlerTap('bell');" ng-class="{'inactive': buttons.bell}" ng-click="bellSound()" ng-dblclick="return false">
            <img src="img/new_dev_assets/bell.png" />
          </div>

          <div class="button-circle text-center" on-double-tap="handlerTap('colors');" ng-class="{'inactive': buttons.colors}" ng-click="openModal()">
            <img src="img/new_dev_assets/colors.png" />
          </div>

          <div class="button-circle text-center" on-double-tap="handlerTap('avatar');" ng-click="buttonAvatar();" ng-class="{'yellow': activeAvatar, 'inactive': buttons.avatar}">
            <img src="img/new_dev_assets/avatar.png" />
          </div>

          <div class="button-circle text-center" on-double-tap="handlerTap('chat');" ng-click="buttonChat();" ng-class="{'yellow': activeChat, 'inactive': buttons.chat}">
            <img src="img/new_dev_assets/chat.png" />
          </div>
        </div>

        <div class="col col-30" ng-if="userBoards.length >= 25">
          <img ng-click="lastSet($index)" src="img/AAC_assets/left.png" style="margin-left:50px;"/>
          <img ng-click="nextSet($index)" src="img/AAC_assets/right.png" style="margin-left:30px;"/>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
